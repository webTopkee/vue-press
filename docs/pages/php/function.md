## 什么是函数

如果一个功能被重复利用多次，我们就可以把他写成一个函数，这样就重复调用，不需要写多次

## 自定义函数的语法结构

基本格式：
function 函数名(形参){
PHP 语句 (函数体)
}

1. 函数的姓就是 function 不能省略
2. 函数名

   - 可以使用英文，不允许使用中文。
   - 可以使用数字，但是不能用数字开头。
   - 不能使用特殊字符，\_除外。
   - 函数名不区分大小写。 - 函数声明要有意义。
   - 不可以和已经存在的函数(系统函数和自定义函数)重名

3. 函数的特征：
   - 函数定义之后，不调用不执行。
   - 函数调用不分先后，因为 PHP 解析器在执行这个页面代码之前就已经预先加载了函数的内容。

```php
abc(); //调用就执行

function abc()
{
    echo '调用就执行';
}

abc(); //调用就执行
```

## return 语句的作用

1. 具有 return 语句的函数就是有返回值的函数。
2. 没有 return 的语句就是执行过程函数。

```php
//执行过程函数
function abc()
{
    echo '调用就执行';
}

$res = abc();
var_dump($res); // null
```

```php
// 当有返回值后，这个函数可以做其它运算
function abc()
{
    $i = 10;
    echo '调用就执行';
    return $i;
}

$res = abc();
var_dump($res); // 10
```

::: tip
一个函数中可以有多个 return 语句，但是程序只能执行一个，一般多个 return 语句都是使用分支结构分开存放。
:::

## 函数的参数

### 函数的参数分为形参和实参

如果函数有定义形参，那么调用函数时必须传入对应的实参。(形参没有默认值的情况)

- 形参就是形式上的参数，在定义函数的括号中使用
- 实参就是实际上的参数，在调用函数的括号中使用

```php
function sun($a, $b)  //括号里面是形参
{
    return $a + $b;
}

$res = sun(1, 5);  //括号里面是实参
echo $res; //6
```

### 函数带默认值

- 如果函数同时具备形参的默认值，并且传入了实参，那么以传进来的实参值为主。(相当于变量赋值，用实参的值赋值给了形参)
- 如果要传入实参，必须和形参的位置一一对应。
- 如果形参中具有多个形参有默认值，将最有可能传入实参的形参放入前面。
- 如果函数同时具有默认值的形参和没有默认值的形参，那么没有默认值的形参一定要放到有默认值的形参前。
- 传入的参数一定要和形参对应，免得出现逻辑问题。

```php
function sun($a, $b = 10)
{
    return $a + $b;
}

$res = sun(6);
echo $res; //16
```

## 函数的变量作用域

### 局部变量

- 在函数中定义的变量就是局部变量，其作用范围仅限函数的内容。
- 形参也是函数内部的变量，也是局部变量

```php
function my()
{
    $i  = 10;
    echo $i;  //10
}

my();

var_dump($i);  //null
```

### 全局变量

1. 普通变量

   - 在函数外部声明的变量，其作用范围就是当前页面部分，函数内部无法使用。

```php
$i = 10;

function my()
{
    var_dump($i); // null
}

my();

var_dump($i);  //10
```

2.  全局变量

    - 实现全局变量方法 1：
      - 在函数外部具有一个变量
      - 在函数内部也具有一个同名变量
      - 在函数内部的同名变量前使用 `global` 关键字修饰，既可以实现全局变量
      - 注意：`global` 声明全局变量时禁止赋值。

    ```php
    $i = 10;

    function my()
    {
        global $i;
        var_dump($i); // 10
    }

    my();

    var_dump($i);  //10
    ```

    - 实现全局变量方法 2：
      - 在函数内部可以使用`$GLOBALS[变量名]`的方式直接调用函数外部的变量值，此时函数内外都可以使用，实现了另一种方式的全局变量。

    ```php
       $i = 10;

        function my()
        {
        var_dump($GLOBALS['i']); //10
        }

        my();

        var_dump($i); //10
    ```

## 静态变量

在函数内部使用 `static` 声明的变量就是静态变量

- 静态变量只会被初始化一次
- 静态变量在函数运行结束后不会被回收
- 静态变量一般用于计算函数调用次数。

```php
function my()
{
    static $i = 10;
    echo $i;
    $i++;
}

my(); // 10
my(); // 11
my(); // 12
```

## 引用传参

- 在设定函数形参时，如果在形参变量之前添加&符号，就表示实参传递时要以引用传递的方式(变量引用赋值)将实参值传递给形参。
- 如果使用引用传参，那么函数内部的引用传参的形参值发生改变，对应外部实参变量的值也发生改变，效果类似于全局变量。

```php
$i = 10;

function my(&$i)
{
    $i = 20;
    echo $i;
}

echo $i; //10
my($i); //20
echo $i; //20
```
